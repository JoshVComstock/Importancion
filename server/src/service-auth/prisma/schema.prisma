// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Productos {
  codigo             Int          @id
  foto               String?
  nombre             String
  descripcion        String?
  dimencion          String?
  peso               String?
  unidades           Int
  cantidadCajas      Int
  desperdicio        String?
  merma              String?
  costo              Decimal
  tipoUnidadRelacion TipoUnidad   @relation(fields: [idTipoUnidad], references: [id])
  idTipoUnidad       Int
  categoriaRelacion  Categoria    @relation(fields: [idCategoria], references: [id])
  idCategoria        Int
  Inventario         Inventario[]
}

model TipoUnidad {
  id          Int         @id
  tipo        String
  descripcion String?
  Productos   Productos[]
}

model Inventario {
  numeroItem         Int       @id
  tipoUnidadRelacion Productos @relation(fields: [productoRelacion], references: [codigo])
  productoRelacion   Int
  fechaIngreso       DateTime?
  fechaSalida        DateTime? // ---------- ojo 
  estadoIngreso      Boolean?
}

model Categoria {
  id               Int         @id
  nombre_categoria String
  Productos        Productos[]
}
